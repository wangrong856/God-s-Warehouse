<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>

<body>
  <script>
    // 浅拷贝：拷贝的是外层 内层拷贝的是引用的地址
    // 如果属性是基本类型，拷⻉的就是基本类型的值。如果属性是引⽤类型，拷⻉的就是内存地址
    var obj = {
      id: 1,
      name: 'lucy',
      msg: {
        age: 12,
        goods: {
          gname: 123,
          gtype: 1111111,
        },
      },
      colors: ['red', 'yellow', 'blue'],
    }
    var o = {}

    // 第一种
    // for (var k in obj) {
    //   // k 属性名  obj[k] 属性值
    //   o[k] = obj[k]
    // }

    // 第二种
    // Object.assign()方法用于对象的合并，将源对象（source）的所有可枚举属性，复制到目标对象（target）。
    // Object.assign(目标对象,源对象1,源对象2)

    o = Object.assign({}, obj)
    console.log(o);
    // console.log(o)
    // o.name = '坤坤'
    // console.log(obj.name)
    // o.msg.age = 90
    // console.log(obj.msg)

    // ------------浅拷贝数组
    // slice
    // var arr = [11, 22, 33]
    // var newArr = arr.slice(0)

    // concat
    // var newArr = arr.concat()

    // 扩展运算符
    // var newArr = [...arr]
    // arr[1] = 'red'
    // console.log(newArr)

    // 深拷贝：
    // 深拷⻉开辟⼀个新的栈，两个对象属完成相同，但是对应两个不同的地址，修改⼀个对象的属性，不会
    // 改变另⼀个对象的属性

    // 第一种方式  lodash提供的cloneDeep

    // 第二种方式 JSON.stringify
    o = JSON.parse(JSON.stringify(obj))
    console.log(o)
    o.name = '坤坤'
    console.log(obj.name)
    o.msg.age = 90
    console.log(obj.msg)
      // 第三种方式  递归
  </script>
</body>

</html>